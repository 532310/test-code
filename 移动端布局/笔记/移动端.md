# 移动端Web开发之流式布局

## 一 . 移动端基础

>1 - 移动端常见浏览器

uc浏览器，qq浏览器。欧朋浏览器，百度手机浏览器，360浏览器，谷歌手机浏览器，搜狗手机浏览器，猎豹浏览器，其他浏览器

**`国内浏览器基于Webkit内核修改过来的，国内尚无自助研发`所以说处理Webkit内核的兼容性即可**



>2 - 手机屏幕现状

移动端设备屏幕尺寸繁杂多样，有480x800，720x1280，1080x1920，还有2k甚至4k屏,但是我们无需关注。当大家看到dp，dpi，pt，ppi等单位时，不必纠结，因为我们常用的尺寸单位是`px`

> 3 - 常见移动端屏幕尺寸

**物理像素就是分辨率**

|设备|尺寸(英寸)|开发尺寸(px)|物理像素比(dpr)|
|:-|:-:|:-:|-:|
|iphone7|7.0|768*1024|1.3|
|HTC One M8|4.5|360*640|3.0|
|ipad Mini|7.9|768*1024|1.0|

看到这里有些朋友就有点蒙了，说：这什么啊，每个都不一样，还怎么做啊。莫慌啊，办法总是有的（详情转**二倍图**）

> 4 - 移动端调试方法

f12调试模式下蓝色圈圈里，你按下你就会发现神奇的由pc端调试切换到移动端端调试啦。

![](./1.png)

当然还有其他办法，比如手机等，不过咱们不常用就不一一明说啦

你可以点红色圈出现下拉框，这时你就可以看到多种适配的手机类型，当然如果没有你想要的，可以点进蓝色圈里

![](./2.png)

![](./3.png)

红色圈为例，下面都是各种手机类型，如果还是没有你想要的，你可以点蓝色的自己编辑

## 二 . 视口

`视口(viewport)`也就是浏览器页面内容的屏幕区域。它又可以分为布局视口，视觉视口，理想视口。（**不过我们多数用理想视口**）

>1 - 布局视口 `layout viewport`

一般移动设备的浏览器都默认设置一个布局视口，用于解决早期的pc端页面在手机上显示的问题，它是固定的，即不会变大变小。当然pc端也可以在手机页面显示，因为ios和Android视口基本都是980px，但是元素看上去很小，一般默认可以通过手动缩放

>2 - 视觉视口 `visual viewport`

视觉视口就是用户所看到的网站区域  
我们可以通过缩放去操作视觉视口，但不会影响布局。

>3 - 理想视口 `ideal viewport`

为网站在移动端有 **最理想** 的浏览和阅读宽度而设定。理想视口，对设备而言是最理想的视口尺寸。但是需要手动添加meta视口标签通知浏览器操作，meta标签主要目的：布局视口的宽度应该与理想视口宽度一致。简单点说就是设备有多宽，我们的布局视口就多宽。

>4 - 视口
### **meta视口标签**

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

|属性|解释说明|
|:---|---:|
|width|宽度设置的是viewport宽度，可以设置device-width特殊值|
|initial-scale|初始缩放比，大于0的数字-（值一般为1，就是按照我们原先设置的大小来展示）|
|maximum-scale|最大缩放比，大于0的数字-（值一般为1，就是按照我们原先设置的大小来展示，不放大）|
|minimum-scale|最小缩放比，大于0的数字-（值一般为1，就是按照我们原先设置的大小来展示，也不缩小）|
|user-scalable|用户是否可以缩放，yes或no(1或0)-（因为你也知道手机上是没有允许缩放的网站，当然我们也要设置no不可以）|

### **标准的viewport设置**

- 视口宽度和设备一致 content="width=device-width
- 不允许用户自动缩放 user-scalable=no
- 视口的默认缩放比例1.0 initial-scale=1.0
- 最大允许的缩放比例1.0  maximum-scale=1.0
- 最小允许的缩放比例1.0 minimum-scale=1.0"

## 三 . 二倍图

> 1 - 物理像素&物理像素比

物理像素点指的是屏幕显示的最小颗粒，是物理真实存在的。这是厂商在出厂时就设置好了,比如苹果6\7\8是750*1334我们门开发时候的1px不是一定等于1个物理像素的  
PC端页面，1个px等于1个物理像素的，但是移动端就不尽相同一个px的能显示的物理像素点的个数，称为物理像素比或屏幕像素比

> 2 - 多倍图

对于一张50px*50px的图片,在手机Retina屏中打开，按照刚才的物理像素比会放大倍数，这样会造成图片模糊在标准的viewport设置中，使用倍图来提高图片质量，解决在高清设备中的模糊问题
通常使用二倍图，因为iPhone6\7,8的影响,但是现在还存在3倍图4倍图的情况，这个看实际开发公司需求背景图片注意缩放问题

> 3 - 背景缩放 background-size

	background: url(images/dog.jPg)no-repeat;
	/* background-size:图片的宽度图片的高度;*//* background-size: 50epx 200px;*/
	/*1.只写一个参数肯定是宽度高度省略了会等比例缩放*//background-size: 500px;*/
	/* 2．里面的单位可以跟%相对于父盒子来说的*//* background-size: 50%;*/
	/* 3. cover等比例拉伸要完全覆盖div盒子可能有部分背景图片显示不全*//* background-size: cover;*/
	/*4. contain高度和宽度等比例拉伸当宽度或者高度铺满div盒子就不再进行拉伸了可能有部分空自区域*/
	background-size: contain;

## 四 . 移动端开发选择

> 1 - 单独移动端页面（主流）

通常情况下，网页域名前加m（mobile）可以打开移动端。通过判断设备，如果是移动设备打开，则跳到移动端页面

> 2 - 移动端主流方案

### **单独移动端页面（主流）**

京东商城手机版  
淘宝触屏版  
苏宁易购手机版  

### **响应式页面兼容pc 移动端（其次）**

响应式页面：它需要通过判断屏幕宽度来改变样式，以适应不同终端。  
（缺点：制作麻烦，需要花费很大精力去调兼容性问题）  
如：三星手机官网  

## 五 . 移动端技术解决方案

>1 - css3-盒子模型 box-sizing

传统模式宽度计算：盒子的宽度= css中设置的width + border + padding  
css3盒子模型：盒子的宽度= css3中设置的width包括了border + padding  
也就是说，我们的css3中的盒子模型，padding和border不会被撑大了

	/*传统盒子模型*/
	box-sizing: content-box;
	/*css3盒子模型*/
	box-sizing: border-box;

>2 - 那么我们要如何选择呢	

移动端可以完全使用用css3盒子模型	
因为移动端都是基于 *Webkit内核* 而它又完全兼容 h5 和 c3		
pc端考虑到兼容性问题，就用传统的，如果不考虑则选css3

>3 - 特殊样式 

	/*清除点击高亮*/
	-webkit-taphighlight-color:transparent;
	/*移动端浏览器默认的外观 取消它才能给按钮或输入框自定义样式*/
	-webkit-appearance:none;
	/*禁用长按页面时弹出菜单*/
	-webkit-touch-callout:none;

## 五 . 移动端常见布局

>1 - 移动端技术选型 

*移动端技术选型布局和我们以前学的pc端区别：*  

**1_1** 单独制作移动端页面（主流）
- 流式布局（百分百布局）
- flex 弹性布局（强烈建议）
- ledd+rem+媒体查询布局
- 混合布局

**1_2** 响应式页面兼容移动端（其次）
- 媒体查询
- bootstarp

>2 - 流式布局（百分百布局） 

流式布局，就是百分比布局，也称非固定像素布局	
通过盒子的矿都设置成百分比来根据屏幕的尺寸来进行伸缩，不受固定像素限制，内容向两侧填充。
流式布局方式是移动web开发声明使用的比较常见的布局方式	

---
你需要写最小/大 宽高 来限制他的尺寸，以防止他把盒子里面的内容挤掉等现象

	max-width 最大宽度（max-height 最大高度）
	min-width 最小宽度（min-height 最小高度）

>3 - 流式布局京东小案例 

	



# flex布局

	order:-1;/*设置其元素排列位置，数值越小，排列越靠前，默认0*/
    align-self: flex-end;/*align-self属性允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性。默认值为auto，表示继承父元素的align-items属性，如果没有父元素，则等同于stretch。*/
	flex:1;/*定义子元素分配剩余空间*/

**以下由6个属性是对父元素设置的**
- flex-direction:设置主轴的方向
![](../笔记/4.png)	
![](../笔记/9.png)	

- justify-content:设置主轴上的子元素排列方式	
![](../笔记/5.png)	

- flex-wrap:设置子元素是否换行	
![](../笔记/6.png)

- align-content:设置侧轴上的子元素的排列方式(多行)	
![](../笔记/8.png)

- align-items :设置侧轴上的子元素排列方式(单行)	
![](../笔记/7.png)

- flex-flow :复合属性，相当于同时设置了flex-direction和flex-wrap	
![](../笔记/.png)

# rem布局

## 一 - rem基础
- 假如父级元素字体像素是12px，那么1em等于父级元素字体的12px,10em就是120px
- 而rem相对于 hmtl元素 字体大小来设定的

## 二 - 媒体查询
**1 . 什么是媒体查询（Media Query）**

- 使用@media查询，可以针对不同的媒体类型定义不同的样式
- @media可以针对不同的屏幕尺寸设置不同的样式
- 当你重置浏览器大小时，页面也会根据浏览器的宽度和高度重新渲染页面
- 目前针对很多苹果手机、Android手机，平板等设备都用得到很多媒体查询

**2 . 语法规范**

	@media mediatype and\not\only (meadia feature){
		css-Code;
	}

- 用@media开头 注意@符号
- mediatype 查询类型
- 关键字 and not only
- media feature 媒体特性 必须有小括号包含

`mediatype查询类型`

将不同的总端设备划分成不同的类型，称为媒体类型
|值|解释说明|
|:---|---:|
|all|用于所以设备|
|print|用于打印机和打印预览|
|scree|用于电脑屏幕，平板电脑，智能手机等|

媒体特性`?`
=

**3 . 引入资源（理解）**

当样式比较繁杂时，我们可以针对不同的媒体使用不同的css样式文件
原理：用link标签，它会帮你判断不同的尺寸，然后引用不同的css文件
	<link rel="stylesheet" media="mediatype and|not|only(media feature)" href="mystylesheet.css">

## 三 - less基础	

**1 . Less介绍**	

Less ( Leaner Style Sheets的缩写）是一门CSS扩展语言，也成为CSS预处理器。
做为CSS的一种形式的扩展，它并没有减少CSS的功能，而是在现有的CSS语法上，为CSS加入程序式语言的特性。
它在CSS的语法基础之上，引入了变量，Mixin（混入），运算以及函数等功能，大大简化了CSS的编写，并且降低了CSS的维护成本，就像它的名称所说的那样ALess可以让我们用更少的代码做更多的事情。
Less中文网址: http://lesscss.cn/
常见的CSS预处理器: Sass、Less、Stylus

**2 . Less安装**	

安装nodejs，可选择版本(8.0)，网址: http://nodejs.cn/download!
检查是否安装成功，使用cmd命令 ( win10是window +r打开运行输入cmd ）---输入“node-v”查看版本即可基于nodejs在线安装Less，使用cmd命令“npm install -g less ”即可
检查是否安装成功，使用cmd命令“ lessc-v”查看版本即可

**3 . Less使用**	

我们首先新建一个后缀为less的文件，在less里写less语句

`语法`
- Less变量 

		/*定义一个变量*/
		@color:gerr;
		/*在标签里使用*/
		body{
			background-color:@color;
		}
		/*错误变量名  @1color @color~@*/
		/**/

- Less嵌套

		/*子元素的样式直接写在父元素的标签里就好了*/
		body{
			background-color:@color;
				div{
					color:red;
				}
		}
		/*如果遇到伪类、交集、为元素选择器
		  在子元素前加&符号，他就会被解析为父级元素自身的伪类，
		  如果不加则被认为是父选择器的后代
		*/
		a{
			&:hover{
				color:red;
			}
		}

- Less运算
任何数字、颜色或者变量都可以参与运算。就是Less提供了 + - * / 算术运算。

		*Less里面写* /witdh: 10px + 5;div {
		border: witdh solid red;
		片
		}
		/*生成的css* /div {
		border: 15px solid red;}
		l*Less 甚至还可以这样* /width: (width + 5)* 2;

`注意∶`	
-
乘号 `(*)` 和除号 `(/)` 的写法
运算符中间左右有个空格隔开1px + 5

对于两个不同的单位的值之间的运算，运算结果的值取第一个值的单位		

如果两个值之间只有一个值有单位，则运算结果就取该单位

`less不能直接用，怎么办？`

如果你用的是vscode，那么我们可以下easy LESS的这么一个插件	
只要你一保存就能直接给你转换成css文件

## 四 . rem适配方案
按照设计稿与设备宽度的比例，动态计算并设置html 根标签的font-size大小;(媒体查询)

CSS中，设计稿元素的宽、高、相对位置等取值，按照同等比例换算为rem为单位的值;

**1 . rem适配方案技术使用（市场主流)**

|技术方案1|技术方案2（推荐）|
|:--|--:|
|less|.flexible.js|
|媒体查询|.flexible.js|
|rem|rem|

总结:
1.两种方案现在都存在。
2.方案2更简单，现阶段大家无需了解里面的js代码。

**2 . rem 实际开发适配方案1rem ＋媒体查询+less技术**

设计稿常见尺寸宽度
|设备|常见宽度|
|:--|--:|
|iphone 4.5|640px|
|iphone 678|750px|
|Android|常见0px、360px、375px、384px、400px、414px、500px、720px|
||大部分4.7~5寸的安卓设备为720px|
一般情况下，我们以一套或两套效果图适应大部分的屏幕，放弃极端屏或对其优雅降级，牺牲一些效果`现在基本以750为准。`

**3简洁高效的rem适配方案flexible.js**

手机淘宝团队出的简洁高效移动端适配库

我们再也不需要在写不同屏幕的媒体查询，因为里面js做了处理

它的原理是把当前设备划分为10等份，但是不同设备下，比例还是一致的。我们要做的，就是确定好

我们当前设备的html文字大小就可以了

比如当前设计稿是750px，那么我们只需要把html文字大小设置为75px(750px/10)就可以里面页面元素rem值:页面元素的px值/75

剩余的，让flexible.js来去算

# 一 . 响应式布局

![1.1](../%E7%AC%94%E8%AE%B0/10.png)

**1 . 响应式布局容器**

响应式需要一个父级做布局容器，来配合子级元素来实现变化效果

原理就是在不同屏幕下，通过媒体查询来改变这个布局容器的大小，再改变里面子元素的排列方式和大小，从而实现不同屏幕下，看到不同的页面布阔和样式变化。

`平时我们的响应式尺寸划分`

- 超小屏幕(手机，小于768px )：设置宽度为100%
- 小屏幕（平板，大于等于768px)：设置宽度为750px
- 中等屏幕（桌面显示器，大于等于992px)︰宽度设置为970px于
- 大屏幕（大桌面显示器，大于等1200px) :宽度设置为1170px

**2 . Bootstrap前端开发框架**

`Bootstrap简介`

Bootstrap来自Twitter(推特），是目前最受欢迎的前端框架。Bootstrap是基于HTML、CSS和JAVASCRIPT的，它简洁灵活，使得Web开发更加快捷。

中文官网: https://www.bootcss.com/

官网: https://getbootstrap.com/

●推荐使用: https://v3.bootcss.com/


`Bootstrap使用`

在现阶段我们还没有接触JS相关课程，所以我们只考虑使用它的样式库。

Bootstrap使用四步曲∶1.创建文件夹结构⒉创建html骨架结构3.引入相关样式文件4.书写内容2.创建html骨架结构

		<!--要求当前网页使用IE浏览器最高版本的内核来渲染-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!--视口的设置:视口的宽度和设备一致，默认的缩放比例和PC端一致，用户不能自行缩放-->
		<meta name="viewport" content= "width=device-width，initial-scale=1,user-scalable=Q"><! --[if lt IE 9]>
		<!--解决ie9以下浏览器对html5新增标签的不识别，并导致CSS不起作用的问题-->
		<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script><!--解决ie9以下浏览器对css3 Media Query的不识别-->
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  	    <![endif]-->

**栅格系统简介**

栅格系统英文为“gridsystems”,也有人翻译为“网格系统”，它是指将页面布局划分为等宽的列，然后通过列数的定义来模块化页面布局。

Bootstrap提供了一套响应式、移动设备优先的流式栅格系统，随着屏幕或视口( viewport )尺寸的增加系统会自动分为最多12列。

Bootstrap里面container宽度是固定的，但是不同屏幕下，container的宽度不同，我门再把container划分为12等份

![](../%E7%AC%94%E8%AE%B0/11.png)

![](../%E7%AC%94%E8%AE%B0/12.png)






